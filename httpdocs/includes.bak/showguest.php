<?php//------------------------------------------------------------------------------// Guestbook v 2.0//// (c) Andrew Collington - amnuts@talker.com// (c) Michael Doig      - michael@coastart.net// On behalf of Coastart Internet Services - all rights reserved.//------------------------------------------------------------------------------require "/home/coastart/tconfig/guestbook_config.inc";// If no connect, error and exit().if (!($connect)){  echo("<p>Unable to connect to the database server.</p>");  exit();}// If can't connect to database, error and exit().if (!(@mysql_select_db($db_name))){  echo("<p>Unable to locate the $db_name database.</p>");  exit();}// Default results per-page.if (!($limit)) {$limit = 10;}if (!($page)) {// Default page value.$page = 0;}// the query.$numresults = mysql_query("SELECT * FROM demoguestbook");// Number of rows returned from above query.$numrows = mysql_num_rows($numresults);if ($numrows == 0) {  echo("No results found matching your query - $query");  exit();}// Number of results pages.$pages = intval($numrows/$limit);// $pages now contains int of pages, unless there is a remainder from division.if ($numrows%$limit) {  $pages++;}// Current page number.$current = ($page/$limit) + 1;// If $pages is less than one or equal to 0, total pages is 1.if (($pages < 1) || ($pages == 0)) {  $total = 1;}// Else total pages is $pages value.else {  $total = $pages;}// The first result.$first = $page + 1;//If not last results page, last result equals $page plus $limit.if (!((($page + $limit) / $limit) >= $pages) && $pages != 1) {  $last = $page + $limit;}// If last results page, last result equals total number of results.else {  $last = $numrows;}?>